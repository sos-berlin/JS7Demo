{
  "TYPE" : "Workflow",
  "version" : "1.1.0",
  "timeZone" : "Etc/UTC",
  "title" : "Execute jobs depending on variable values",
  "documentationName" : "PKB-JS7-OnlineDemo-Workflow-jdConditionalVariables",
  "orderPreparation" : {
    "parameters" : {
      "run_job1" : {
        "type" : "Boolean",
        "default" : "false"
      },
      "run_job2" : {
        "type" : "Boolean",
        "default" : "false"
      }
    },
    "allowUndeclared" : false
  },
  "jobResourceNames" : [ "Default" ],
  "instructions" : [ {
    "TYPE" : "If",
    "predicate" : "variable( 'run_job1' ) == true",
    "then" : {
      "instructions" : [ {
        "TYPE" : "Execute.Named",
        "jobName" : "job1",
        "label" : "job1"
      } ]
    },
    "else" : {
      "instructions" : [ {
        "TYPE" : "Execute.Named",
        "jobName" : "job2",
        "label" : "job2"
      } ]
    }
  }, {
    "TYPE" : "Execute.Named",
    "jobName" : "job3",
    "label" : "job3"
  } ],
  "jobs" : {
    "job1" : {
      "agentName" : "primaryAgent",
      "executable" : {
        "TYPE" : "ShellScriptExecutable",
        "script" : "#!/bin/bash\n\necho \"using workflow: $JS7_WORKFLOW_NAME\"\necho \"running job: $JS7_JOB_NAME\"\n\nsleep 5",
        "v1Compatible" : false
      },
      "skipIfNoAdmissionForOrderDay" : false,
      "parallelism" : 1,
      "graceTimeout" : 15,
      "failOnErrWritten" : false
    },
    "job2" : {
      "agentName" : "primaryAgent",
      "executable" : {
        "TYPE" : "ShellScriptExecutable",
        "script" : "#!/bin/bash\n\necho \"using workflow: $JS7_WORKFLOW_NAME\"\necho \"running job: $JS7_JOB_NAME\"\n\nsleep 5",
        "v1Compatible" : false
      },
      "skipIfNoAdmissionForOrderDay" : false,
      "parallelism" : 1,
      "graceTimeout" : 15,
      "failOnErrWritten" : false
    },
    "job3" : {
      "agentName" : "primaryAgent",
      "executable" : {
        "TYPE" : "ShellScriptExecutable",
        "script" : "#!/bin/bash\n\necho \"using workflow: $JS7_WORKFLOW_NAME\"\necho \"running job: $JS7_JOB_NAME\"\n\nsleep 5\n",
        "v1Compatible" : false
      },
      "skipIfNoAdmissionForOrderDay" : false,
      "parallelism" : 1,
      "graceTimeout" : 15,
      "failOnErrWritten" : false
    }
  }
}